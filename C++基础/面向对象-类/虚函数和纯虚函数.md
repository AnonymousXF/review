##### 虚函数

​	虚函数必须是**基类**的非静态成员函数，其访问权限可以是protected或public，在基类的类定义中定义虚函数的形式为：

virtual	函数返回值类型	虚函数名（形参表）

{

​	函数体

}

* 虚函数必须必须实现，如果不实现，编译的时候会报错。

* 对于虚函数，父类和子类有各自的实现。由多态方式调用的时候动态绑定。虚函数是C++中用于实现多态的机制，核心理念就是通过基类访问派生类定义的函数。

  ```c++
  class A  
  {  
  public:  
      virtual void foo()  
      {  
          cout<<"A::foo() is called"<<endl;  
      }  
  };  
  class B:public A  
  {  
  public:  
      void foo()  
      {  
          cout<<"B::foo() is called"<<endl;  
      }  
  };  
  int main(void)  
  {  
      A *a = new B();  
      a->foo();   // 在这里，a虽然是指向A的指针，但是被调用的函数(foo)却是B的!  
      return 0;  
  }  
  ```

* 在有动态分配堆上内存的时候，析构函数必须是虚函数，但没有必要是纯虚的。

* 友元不是成员函数，只有成员函数才可以是虚拟的，因此友元不能是虚函数。但可以通过让友元函数调用虚函数来解决友元的虚拟问题。

* 析构函数应当是虚函数，将调用相应对象类型的析构函数，因此，如果指针指向的是子类对象，将调用子类的析构函数，然后自动调用基类的析构函数。



##### 纯虚函数

​	纯虚函数是在基类中声明的虚函数，它在基类中没有定义，但要求任何派生类都要定义自己的实现方法。在基类中实现纯虚函数的方法是在函数原型后加“=0”。

virtual void funtion()=0;

​	将函数定义为纯虚函数，则编译器要求在派生类中**必须予以重写**以实现多态性。同时含有纯虚拟函数的类称为**抽象类**，**它不能生成对象** ，必须通过继承由派生类实现其抽象方法。如果抽象类的派生类没有实现所有的抽象方法，则该派生类也必须声明为抽象类。

* 定义纯虚函数的目的在于，使派生类仅仅只是继承函数的接口。
* 实现了纯虚函数的子类，该纯虚函数在子类中就编程了虚函数，子类的子类即孙子类可以覆盖该虚函数，由多态方式调用的时候动态绑定。